{
  "indexes": [
    {
      "collectionGroup": "content",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "genres",
          "arrayConfig": "CONTAINS"
        },
        {
          "fieldPath": "release_year",
          "order": "DESCENDING"
        },
        {
          "fieldPath": "popularity_score",
          "order": "DESCENDING"
        }
      ]
    },
    {
      "collectionGroup": "content",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "platform",
          "arrayConfig": "CONTAINS"
        },
        {
          "fieldPath": "rating",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "popularity_score",
          "order": "DESCENDING"
        }
      ]
    },
    {
      "collectionGroup": "content",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "valid_from",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "valid_to",
          "order": "DESCENDING"
        },
        {
          "fieldPath": "version",
          "order": "DESCENDING"
        }
      ]
    },
    {
      "collectionGroup": "content",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "genres",
          "arrayConfig": "CONTAINS"
        },
        {
          "fieldPath": "platform",
          "arrayConfig": "CONTAINS"
        },
        {
          "fieldPath": "popularity_score",
          "order": "DESCENDING"
        }
      ]
    },
    {
      "collectionGroup": "recommendations",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "user_id",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "score",
          "order": "DESCENDING"
        },
        {
          "fieldPath": "generated_at",
          "order": "DESCENDING"
        }
      ]
    },
    {
      "collectionGroup": "recommendations",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "target_audience",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "score",
          "order": "DESCENDING"
        }
      ]
    },
    {
      "collectionGroup": "hyperedges",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "edge_type",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "valid_from",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "valid_to",
          "order": "DESCENDING"
        }
      ]
    },
    {
      "collectionGroup": "hyperedges",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "edge_type",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "nodes.document_id",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "content_metrics",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "trending_score",
          "order": "DESCENDING"
        },
        {
          "fieldPath": "updated_at",
          "order": "DESCENDING"
        }
      ]
    },
    {
      "collectionGroup": "content_metrics",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "views_last_24h",
          "order": "DESCENDING"
        },
        {
          "fieldPath": "completion_rate",
          "order": "DESCENDING"
        }
      ]
    }
  ],
  "fieldOverrides": [
    {
      "collectionGroup": "content",
      "fieldPath": "genres",
      "indexes": [
        {
          "order": "ASCENDING",
          "queryScope": "COLLECTION"
        },
        {
          "arrayConfig": "CONTAINS",
          "queryScope": "COLLECTION"
        }
      ]
    },
    {
      "collectionGroup": "content",
      "fieldPath": "platform",
      "indexes": [
        {
          "arrayConfig": "CONTAINS",
          "queryScope": "COLLECTION"
        }
      ]
    },
    {
      "collectionGroup": "content",
      "fieldPath": "keywords",
      "indexes": [
        {
          "arrayConfig": "CONTAINS",
          "queryScope": "COLLECTION"
        }
      ]
    }
  ]
}
